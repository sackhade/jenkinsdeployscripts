pipeline { 
    agent { label 'co-sf-pe-171' }
    options {
        skipStagesAfterUnstable()
    }
    stages {
        stage('checkout another repo'){
            steps { 
                sh 'checkout another repo'
		checkout(
		    [$class: 'GitSCM', 
		    branches: [[name: '*/main']], 
		    doGenerateSubmoduleConfigurations: false, 
		    extensions: [], 
		    submoduleCfg: [], 
		    userRemoteConfigs: [[url: 'https://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@github.com/sackhade/jenkinsgitrepo.git']]
		    ])
            }
        }
        stage('execute some commands on checked out repo'){
            steps {
                sh 'echo execute some commands on checked out repo'
		dir('jenkinsgitrepo') {
		    sh 'ls -ltr'
		    sh 'somesampleshellscript.sh'
		}
            }
        }
        stage('bye') {
            steps {
                sh 'echo bye'
   	    }
        }
    }
}
